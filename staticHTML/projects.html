<!DOCTYPE html>
<html>

    <head>
        <title>Projects</title>
        <link rel="stylesheet" href="projects.css">
        <script>
            var counter = 0;
            function newProject(){
                counter++;

                var para = document.createElement("div");
                para.innerHTML = document.getElementById("myDIV").innerHTML;
                para.setAttribute("id", "myDIV"+counter);

                para.querySelector(".green_border").setAttribute("id", "border"+counter);
                para.querySelector(".green_completed").setAttribute("id", "border_completed"+counter);
                
                para.querySelector("p").setAttribute("id", "myP"+counter);
                para.querySelector("h1").setAttribute("id", "title"+counter);

                document.body.appendChild(para);
            }

            function editFunc(current, c){
                console.log(document.getElementById("border"+counter));
                
                if (c == "rename")
                {
                    document.getElementById("title"+counter).contentEditable = true;
                }
                if (c == "edit")
                {
                    document.getElementById("myP"+counter).contentEditable = true;
                }
            }

            function colorFunc(current, c){
                console.log(document.getElementById("border"+counter));

                if (c == "green")
                {
                    document.getElementById("border"+counter).style.backgroundColor = "#6FD171";
                    document.getElementById("border_completed"+counter).style.backgroundColor = "#6FD171";
                }
                if (c == "red")
                {

                    document.getElementById("border"+counter).style.backgroundColor = "#FF5E5E";
                    document.getElementById("border_completed"+counter).style.backgroundColor = "#FF5E5E";
                }
                if (c == "blue")
                {
                    document.getElementById("border"+counter).style.backgroundColor = "#5D94FF";
                    document.getElementById("border_completed"+counter).style.backgroundColor = "#5D94FF";
                }
            }
        </script>
    </head>

    <body>
        <nav><a href="#"><img src="image/menu.png"></a>Audio Transcription Tool
            <button class="button" onclick="newProject()">+ Create new project</button>
        </nav>

        <div class="audio_container clear">
            <div id="waveform" style="position:relative">
            </div>
            <!--
            <div class="controls">
                <button class="btn btn-primary" data-action="back">+ Create new project</button>
            </div>
            -->
        </div>
        
        <div id="myDIV" style="display:none" class="project_container">
            <div class="folder">
                <div id="border" class="green_border"></div>
                <div id="border_completed" class="green_completed"></div>
                
                <select id="deleteBox" onchange="deleteFunc(this, this.options[this.selectedIndex].value);">
                    <option style="display: none"></option>
                    <option value="delete">Delete</option>
                </select>

                <select id="editBox" onchange="editFunc(this, this.options[this.selectedIndex].value);">
                    <option style="display: none"></option>
                    <option value="rename">Rename</option>
                    <option value="edit">Edit description</option>
                </select>

                <select id="colorBox" onchange="colorFunc(this, this.options[this.selectedIndex].value);">
                    <option style="display: none"></option>
                    <option value="green">Green</option>
                    <option value="red">Red</option>
                    <option value="blue">Blue</option>
                </select>
     
                <!--<div class="title"><a href="audiofiles.html">Project Title</a></div>-->
                <h1>Project Title</h1>
                <p id="myP">Project description</p>
                <p id="myFiles">Files</p>
                <p id="divider">--------------------------------------------</p>
                <div><a href="edit.html">audiofile1.wav</a></div>
            </div>
        </div>
    </body>
</html>